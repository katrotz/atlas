language: node_js
node_js:
  - "10"
cache: npm
branches:
  only:
    - "master"
env:
  - NODE_ENV="development"
  - PUBLISH_BRANCH_NAME="$([ -n $TRAVIS_PULL_REQUEST_BRANCH ] && echo $TRAVIS_PULL_REQUEST_BRANCH || echo $TRAVIS_BRANCH)"
before_script:
  - npm run ci:setup
  - npm run bootstrap
script: ./scripts/release/publish.sh
deploy:
  provider: script
  script: npm run deploy
  skip_cleanup: true
